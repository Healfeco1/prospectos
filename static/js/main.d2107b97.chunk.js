(this.webpackJsonpconcredito=this.webpackJsonpconcredito||[]).push([[0],{254:function(e,t,a){},256:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var o=a(2),c=a.n(o),n=a(25),s=a.n(n),r=a(123),l=a(32),i=a(24),d=a(18),b=a(23),m=a(15),j=a(13),u=a(26),O=(a(140),a(141),a(142),{apiKey:"AIzaSyAkxZMP6KJnsCKFqGbgOpZuBwHfb-ysy3c",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/prospectos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAkxZMP6KJnsCKFqGbgOpZuBwHfb-ysy3c",REACT_APP_AUTH_DOMAIN:"concredito-f5512.firebaseapp.com",REACT_APP_DATABASE_URL:"",REACT_APP_PROJECT_ID:"concredito-f5512",REACT_APP_STORAGE_BUCKET:"concredito-f5512.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"877734757930",REACT_APP_APP_ID:"1:877734757930:web:ed8bb0372f15bb8819e553",REACT_APP_MEASUREMENT_ID:"G-7K32XWFZ1F"}).REACT_APP_AUTHDOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/prospectos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAkxZMP6KJnsCKFqGbgOpZuBwHfb-ysy3c",REACT_APP_AUTH_DOMAIN:"concredito-f5512.firebaseapp.com",REACT_APP_DATABASE_URL:"",REACT_APP_PROJECT_ID:"concredito-f5512",REACT_APP_STORAGE_BUCKET:"concredito-f5512.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"877734757930",REACT_APP_APP_ID:"1:877734757930:web:ed8bb0372f15bb8819e553",REACT_APP_MEASUREMENT_ID:"G-7K32XWFZ1F"}).REACT_APP_BASEURL,projectId:"concredito-f5512",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/prospectos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAkxZMP6KJnsCKFqGbgOpZuBwHfb-ysy3c",REACT_APP_AUTH_DOMAIN:"concredito-f5512.firebaseapp.com",REACT_APP_DATABASE_URL:"",REACT_APP_PROJECT_ID:"concredito-f5512",REACT_APP_STORAGE_BUCKET:"concredito-f5512.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"877734757930",REACT_APP_APP_ID:"1:877734757930:web:ed8bb0372f15bb8819e553",REACT_APP_MEASUREMENT_ID:"G-7K32XWFZ1F"}).REACT_APP_STORAGEBUCKET,messagingSenderId:"877734757930",appId:"1:877734757930:web:ed8bb0372f15bb8819e553",measurementId:"G-7K32XWFZ1F"});u.a.initializeApp(O),u.a.analytics(),u.a.auth();u.a;var p=function(e){var t=[];u.a.database().ref("prospectos").on("value",(function(a){var o=a.val();if(o)for(var c=0,n=Object.entries(o);c<n.length;c++){var s=n[c],r=Object(d.a)(Object(d.a)({},s[1]),{},Object(i.a)({},"id",s[0]));t.push(r),e(t)}}))},f=function(e,t){var a={};return u.a.database().ref("prospectos/".concat(e)).once("value").then((function(e){var o=e.val();t(o),a=o})),a},A=function(e,t){JSON.stringify(t);var a=u.a.database().ref("/prospectos/".concat(t));Object.entries(e).map((function(e){console.log(e),a.update(Object(i.a)({},e[0],e[1]))}))},x=function(e){console.log("saveMethod",e);var t=u.a.database().ref("prospectos");e.status="Enviado",t.push(e)},P=a(4);function _(e){var t=Object(o.useState)([]),a=Object(m.a)(t,2),c=a[0],n=a[1],s=Object(o.useState)(!1),r=Object(m.a)(s,2),l=r[0],i=r[1],d=function(){p(n)};Object(o.useEffect)((function(){d()}),[]);return Object(P.jsx)(h.Provider,{value:{getAllProspects:d,resProspectos:[],prospectos:c,getDataIdProspecto:function(e,t){f(e,t)},handledSaveProspect:function(e){x(e),d()},handledUpdateProspect:function(e,t){A(e,t),d()},sethandleShowModal:i,handleShowModal:l},children:e.children})}var h=c.a.createContext(),v=a(64),E=a(119),S=a(3);function T(e){var t=e.idProspecto,a=e.sethandleShowModal,c=Object(o.useState)(0),n=Object(m.a)(c,2),s=n[0],r=n[1],u=Object(o.useState)([]),O=Object(m.a)(u,2),p=O[0],f=O[1],A=(Object(l.useToasts)().addToast,Object(o.useContext)(h)),x=A.getDataIdProspecto,_=A.handledSaveProspect,T=A.handledUpdateProspect,C=Object(o.useState)([]),g=Object(m.a)(C,2),N=g[0],R=g[1],y=Object(o.useState)([]),D=Object(m.a)(y,2),I=D[0],F=D[1],B=Object(o.useState)({nombreProspecto:"",primerApellido:"",segundoApellido:"",calle:"",numero:"",colonia:"",codigoPostal:"",telefono:"",rfc:"",observaciones:"",status:"",documentos:""}),w=Object(m.a)(B,2),K=w[0],M=w[1];if(Object(o.useEffect)((function(){t&&x(t,M)}),[]),""!=K.documentos&&void 0!=K.documentos)for(var U=Object.keys(K.documentos).length,H=0;H<=U;H++);function G(e){var t;return e||(t="Campo Requerido"),t}if(K.documentoName0){Object.keys(K).some((function(e){})),Object.entries(K).map((function(e){"documentoName"==e[0]&&1}))}var k=function(e){var t="documentoName-".concat(s-1),a="documento-".concat(s-1);if(e.target.name==t){var o,c=Object(d.a)(Object(d.a)({},I),{},Object(i.a)({},e.target.name,e.target.value));F(c),M(Object(d.a)(Object(d.a)({},K),{},(o={},Object(i.a)(o,e.target.name,e.target.value),Object(i.a)(o,"documentos",c),o)))}if(e.target.name==a){var n,r=Object(d.a)(Object(d.a)({},I),{},Object(i.a)({},e.target.name,e.target.value));F(r),M(Object(d.a)(Object(d.a)({},K),{},(n={},Object(i.a)(n,e.target.name,e.target.value),Object(i.a)(n,"documentos",r),n)))}var l=p,b=Object(d.a)(Object(d.a)({},l),{},Object(i.a)({},e.target.name,e.target.value));f(b)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(j.d,{enableReinitialize:!0,initialValues:K,onSubmit:function(e,o){return function(e,t,o){console.log(e),o?T(p,o):_(e),a(!1),t()}(e,o.resetForm,t)},validationSchema:v.a({nombreProspecto:v.b().required((function(){})),documentoName0:v.b().required((function(){}))}),children:Object(P.jsxs)(j.c,{children:[Object(P.jsxs)("div",{className:"col-md-4 mb-3 ml-auto d-flex align-content-center",children:[Object(P.jsx)("label",{htmlFor:"status",className:"mt-1 ml-auto col-md-1",children:"Estatus"}),Object(P.jsx)(j.b,{name:"status",type:"text",className:"form-control-sm col-md-5 ml-auto",disabled:!0})]}),Object(P.jsxs)("div",{className:"form-row m-1",children:[Object(P.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(P.jsx)("label",{htmlFor:"nombreProspecto",children:"Nombre del prospecto"}),Object(P.jsx)(j.b,{name:"nombreProspecto",type:"text",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"nombreProspecto",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(P.jsx)("label",{htmlFor:"primerApellido",children:"Primer apellido "}),Object(P.jsx)(j.b,{name:"primerApellido",type:"text",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"primerApellido",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(P.jsx)("label",{htmlFor:"segundoApellido",children:"Segundo Apellido"}),Object(P.jsx)(j.b,{name:"segundoApellido",type:"text",className:"form-control",onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""})]}),Object(P.jsxs)("div",{className:"col-md-5 mb-3",children:[Object(P.jsx)("label",{htmlFor:"calle",children:"Calle"}),Object(P.jsx)(j.b,{name:"calle",type:"text",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"calle",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-3 mb-3",children:[Object(P.jsx)("label",{htmlFor:"numero",children:"N\xfamero"}),Object(P.jsx)(j.b,{name:"numero",type:"number",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"numero",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(P.jsx)("label",{htmlFor:"colonia",children:"Colonia"}),Object(P.jsx)(j.b,{name:"colonia",type:"text",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"colonia",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-3 mb-3",children:[Object(P.jsx)("label",{htmlFor:"codigoPostal",children:"CP"}),Object(P.jsx)(j.b,{name:"codigoPostal",type:"number",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"codigoPostal",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(P.jsx)("label",{htmlFor:"telefono",children:"Tel\xe9fono"}),Object(P.jsx)(j.b,{name:"telefono",type:"number",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"telefono",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-md-5 mb-3",children:[Object(P.jsx)("label",{htmlFor:"rfc",children:"RFC"}),Object(P.jsx)(j.b,{name:"rfc",type:"text",className:"form-control",validate:G,onBlur:function(e){return k(e)},disabled:""!=K.status?"disabled":""}),Object(P.jsx)(j.a,{name:"rfc",component:"span",className:"text-danger"})]}),Object(P.jsxs)("div",{className:"col-12 mb-3",children:[Object(P.jsx)("label",{htmlFor:"documentos",children:"Documentos"}),Object(P.jsx)(S.b.Provider,{value:{size:".5em",className:"mb-2"},children:Object(P.jsx)("span",{onClick:function(e){return function(e){e.preventDefault();var t=[].concat(Object(b.a)(N),[s]);R(t),r(s+1)}(e)},children:Object(P.jsx)(E.a,{})})})]}),Object(P.jsxs)("div",{className:"col-md-12 mb-3",children:[N.map((function(e){return{}})),Object.keys(K).forEach((function(e){return Object(P.jsx)("span",{children:e})}))]}),""!=K.status?Object(P.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(P.jsx)("label",{htmlFor:"observaciones",children:"Observaciones"}),Object(P.jsx)(j.b,{name:"observaciones",type:"textarea",className:"form-control",onBlur:function(e){return k(e)}})]}):""]}),Object(P.jsx)("div",{className:"text-center",children:Object(P.jsx)("button",{className:"btn bg-primary",type:"submit",children:"Submit"})})]})})})}var C=a(120),g=a.n(C),N=a(65),R=a(43),y=a(122),D=a.n(y),I=(a(254),function(e){return Object(P.jsx)(l.DefaultToastContainer,Object(d.a)(Object(d.a)({},e),{},{style:{zIndex:9999}}))});function F(e){var t=e.idProspecto,a=e.setidProspecto,c=Object(o.useContext)(h),n=c.handleShowModal,s=c.sethandleShowModal,r=Object(o.useState)(!1),i=Object(m.a)(r,2),d=(i[0],i[1],function(){D.a.mixin({customClass:{cancelButton:"btn btn-success",confirmButton:"btn btn-danger mr-2"},buttonsStyling:!1}).fire({title:"Saldr\xe1 de la pantalla de captura de prospectos y ning\xfan dato ser\xe1 guardado",text:"Si sale perder\xe1 toda la captura.",icon:"warning",showClass:{popup:"animate__animated animate__fadeInDown"},showCancelButton:!0,confirmButtonText:"Salir",cancelButtonText:"Seguir editando"}).then((function(e){e.isConfirmed&&(s(!1),a(null))}))});return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"text-center",children:Object(P.jsx)(N.a,{variant:"outline-success",onClick:function(){s(!0)},children:"Capturar Prospecto"})}),Object(P.jsxs)(R.a,{show:n,onHide:function(){s(!1),a(null)},dialogClassName:"mod","aria-labelledby":"example-custom-modal-styling-title",children:[Object(P.jsx)(R.a.Header,{closeButton:!0,children:Object(P.jsx)(R.a.Title,{children:"Modal heading"})}),Object(P.jsx)(R.a.Body,{children:Object(P.jsx)(l.ToastProvider,{components:{ToastContainer:I},children:Object(P.jsx)(T,{idProspecto:t,sethandleShowModal:s})})}),Object(P.jsxs)(R.a.Footer,{children:[Object(P.jsx)(N.a,{variant:"secondary",onClick:d,children:"Close"}),Object(P.jsx)(N.a,{variant:"primary",onClick:d,children:"Save Changes"})]})]}),Object(P.jsx)("span",{children:t||""})]})}a(256);function B(){var e=Object(o.useContext)(h),t=e.prospectos,a=e.sethandleShowModal,n=Object(o.useState)(),s=Object(m.a)(n,2),r=s[0],l=s[1],i=c.a.useState(!1),d=Object(m.a)(i,2),b=(d[0],d[1],Object(o.useState)(t)),j=Object(m.a)(b,2),u=j[0],O=j[1];Object(o.useLayoutEffect)((function(){O(t)}),[t]);var p=Object(P.jsx)(g.a,{title:"Lista de Prospectos",columns:[{name:"Nombre del prospecto",selector:"nombreProspecto",sortable:!0,grow:.6,center:!0},{name:"Primer Apellido",selector:"primerApellido",sortable:!0,center:!0,grow:.5},{name:"Segundo Apellido",selector:"segundoApellido",sortable:!0,grow:.5,center:!0},{name:"Estatus",selector:"status",sortable:!0,center:!0}],data:u,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por P\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},fixedHeader:!0,striped:!0,pointerOnHover:!0,subHeader:!0,dense:!0,highlightOnHover:!0,onRowClicked:function(e){return t=e.id,l((function(e){return t})),void a(!0);var t},noDataComponent:"No hay datos capturados"});return Object(o.useEffect)((function(){O(t)}),[u]),Object(P.jsxs)(P.Fragment,{children:[p,Object(P.jsx)(F,{idProspecto:r,setidProspecto:l})]})}var w=function(){return Object(o.useContext)(h).handleProspects,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(l.ToastProvider,{}),Object(P.jsx)(B,{})]})};s.a.render(Object(P.jsx)(r.a,{children:Object(P.jsx)(_,{children:Object(P.jsx)(w,{})})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.d2107b97.chunk.js.map